---
// import type { Fixture } from '@/@types/fixtures'
import { Image } from 'astro:assets'

// interface Props {
//   fixtures: Array<Fixture>
// }

// const { fixtures } = Astro.props
const fixtures = [
  {
    fixture: {
      id: 1035382,
      referee: 'C. Kavanagh',
      timezone: 'UTC',
      date: '2024-01-13T17:30:00+00:00',
      timestamp: 1705167000,
      periods: {
        first: 1705167000,
        second: 1705170600
      },
      venue: {
        id: 562,
        name: "St. James' Park",
        city: 'Newcastle upon Tyne'
      },
      status: {
        long: 'Match Finished',
        short: 'FT',
        elapsed: 90
      }
    },
    league: {
      id: 39,
      name: 'Premier League',
      country: 'England',
      logo: 'https://media.api-sports.io/football/leagues/39.png',
      flag: 'https://media.api-sports.io/flags/gb.svg',
      season: 2023,
      round: 'Regular Season - 21'
    },
    teams: {
      home: {
        id: 34,
        name: 'Newcastle',
        logo: 'https://media.api-sports.io/football/teams/34.png',
        winner: false
      },
      away: {
        id: 50,
        name: 'Manchester City',
        logo: 'https://media.api-sports.io/football/teams/50.png',
        winner: true
      }
    },
    goals: {
      home: 2,
      away: 3
    },
    score: {
      halftime: {
        home: 2,
        away: 1
      },
      fulltime: {
        home: 2,
        away: 3
      },
      extratime: {
        home: null,
        away: null
      },
      penalty: {
        home: null,
        away: null
      }
    }
  },
  {
    fixture: {
      id: 1035369,
      referee: 'D. Coote',
      timezone: 'UTC',
      date: '2023-12-30T15:00:00+00:00',
      timestamp: 1703948400,
      periods: {
        first: 1703948400,
        second: 1703952000
      },
      venue: {
        id: 555,
        name: 'Etihad Stadium',
        city: 'Manchester'
      },
      status: {
        long: 'Match Finished',
        short: 'FT',
        elapsed: 90
      }
    },
    league: {
      id: 39,
      name: 'Premier League',
      country: 'England',
      logo: 'https://media.api-sports.io/football/leagues/39.png',
      flag: 'https://media.api-sports.io/flags/gb.svg',
      season: 2023,
      round: 'Regular Season - 20'
    },
    teams: {
      home: {
        id: 50,
        name: 'Manchester City',
        logo: 'https://media.api-sports.io/football/teams/50.png',
        winner: true
      },
      away: {
        id: 62,
        name: 'Sheffield Utd',
        logo: 'https://media.api-sports.io/football/teams/62.png',
        winner: false
      }
    },
    goals: {
      home: 2,
      away: 0
    },
    score: {
      halftime: {
        home: 1,
        away: 0
      },
      fulltime: {
        home: 2,
        away: 0
      },
      extratime: {
        home: null,
        away: null
      },
      penalty: {
        home: null,
        away: null
      }
    }
  },
  {
    fixture: {
      id: 1035360,
      referee: 'J. Brooks',
      timezone: 'UTC',
      date: '2023-12-27T20:15:00+00:00',
      timestamp: 1703708100,
      periods: {
        first: 1703708100,
        second: 1703711700
      },
      venue: {
        id: 8560,
        name: 'Goodison Park',
        city: 'Liverpool'
      },
      status: {
        long: 'Match Finished',
        short: 'FT',
        elapsed: 90
      }
    },
    league: {
      id: 39,
      name: 'Premier League',
      country: 'England',
      logo: 'https://media.api-sports.io/football/leagues/39.png',
      flag: 'https://media.api-sports.io/flags/gb.svg',
      season: 2023,
      round: 'Regular Season - 19'
    },
    teams: {
      home: {
        id: 45,
        name: 'Everton',
        logo: 'https://media.api-sports.io/football/teams/45.png',
        winner: false
      },
      away: {
        id: 50,
        name: 'Manchester City',
        logo: 'https://media.api-sports.io/football/teams/50.png',
        winner: true
      }
    },
    goals: {
      home: 1,
      away: 3
    },
    score: {
      halftime: {
        home: 1,
        away: 0
      },
      fulltime: {
        home: 1,
        away: 3
      },
      extratime: {
        home: null,
        away: null
      },
      penalty: {
        home: null,
        away: null
      }
    }
  }
]
---

<article
  class='w-full text-pretty rounded-xl bg-zinc-100 dark:bg-accent-dark px-2 py-3 space-y-4'
>
  <h4 class='text-lg md:text-2xl font-bold'>Last 3 Matches</h4>
  <div class='w-full flex flex-col md:flex-row flex-wrap gap-4 rounded-xl'>
    {
      fixtures.map((fixture) => (
        <div class='w-full md:max-w-xl mx-auto flex-1 bg-white/50 dark:bg-dark/50 p-4 shadow dark:shadow-black/50'>
          <div class='w-full max-w-lg flex justify-between items-center '>
            <div class='flex gap-x-4 items-center justify-center'>
              <Image
                src={fixture.teams.home.logo}
                width={40}
                height={40}
                class='self-end w-9 h-9'
                alt={fixture.teams.home.name}
              />
              <span class='text-lg md:text-xl'>
                {fixture.score.fulltime.home}
              </span>
            </div>

            <span>x</span>

            <div class='flex gap-x-4 items-center justify-center'>
              <span class='text-lg md:text-xl'>
                {fixture.score.fulltime.away}
              </span>
              <Image
                src={fixture.teams.away.logo}
                width={40}
                height={40}
                class='self-end w-9 h-9'
                alt={fixture.teams.away.name}
              />
            </div>
          </div>
          <div class='text-center p-2 flex flex-col gap-1'>
            <span>{fixture.fixture.venue.city}</span>
            <span class='font-medium'>{fixture.fixture.venue.name}</span>
          </div>
        </div>
      ))
    }
  </div>
</article>
